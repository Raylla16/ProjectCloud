<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="/static/style.css" />
</head>
<body>

    <div id="landingTitle">
        <h1 class="row">
            <img src="/static/images/pets.jpg" width=200 height=200 />
            RAY'S ANIMAL RESCUE AND SHELTER
        </h1>

        <a href="/">Home Page</a>
    </div>

    <div>

        <form action="/add" method="POST" enctype="multipart/form-data">
            <label for=" pname"> Name of Pet: </label><br>
            <input type="text" id="pname" name="pname" required><br>
            <label for=" age">Age of Pet</label><br>
            <input type="text" id="age" name="age" required><br>
            <label for=" breed">Breed of Pet:</label><br>
            <input type="text" id="breed" name="breed" required><br>
            <label for=" image">Picture(Upload):</label><br>
            <input type="file" id="pic" name="pic" required><br><br>

            <button type="submit" onclick="saveDataToTextFile()">Submit</button>
            <script>
                function saveDataToTextFile() {
                    const name = document.getElementById('pname').value;
                    const age = document.getElementById('age').value;
                    const breed = document.getElementById('breed').value;
                    const photo = document.getElementById('pic').value;

                    const fileContent = `Name: ${name};Age: ${age};Breed: ${breed};Image: ${photo}\n`;
                    const filename = 'formData.txt';
                    const mimeType = 'text/plain';

                    const blob = new Blob([fileContent], { type: mimeType });
                    const url = URL.createObjectURL(blob);

                    const a = document.createElement('a');
                    a.href = url;
                    a.download = filename;
                    document.body.appendChild(a); // Append for Firefox compatibility
                    a.click();
                    console.log(blob)
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url); // Clean up the URL object
                }
            </script>
        </form>
    </div>
</body>
</html>